; Listing generated by Microsoft (R) Optimizing Compiler Version 19.29.30133.0 

include listing.inc

INCLUDELIB OLDNAMES

PUBLIC	??_R4Tremolo@@6B@				; Tremolo::`RTTI Complete Object Locator'
PUBLIC	??_R1A@?0A@EA@Tremolo@@8			; Tremolo::`RTTI Base Class Descriptor at (0,-1,0,64)'
PUBLIC	??_R3Tremolo@@8					; Tremolo::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_7Tremolo@@6B@				; Tremolo::`vftable'
PUBLIC	??_R0?AVTremolo@@@8				; Tremolo `RTTI Type Descriptor'
PUBLIC	??_R2Tremolo@@8					; Tremolo::`RTTI Base Class Array'
;	COMDAT ??_R2Tremolo@@8
rdata$r	SEGMENT
??_R2Tremolo@@8 DD imagerel ??_R1A@?0A@EA@Tremolo@@8	; Tremolo::`RTTI Base Class Array'
	ORG $+3
rdata$r	ENDS
;	COMDAT ??_R0?AVTremolo@@@8
data$rs	SEGMENT
??_R0?AVTremolo@@@8 DQ FLAT:??_7type_info@@6B@		; Tremolo `RTTI Type Descriptor'
	DQ	0000000000000000H
	DB	'.?AVTremolo@@', 00H
data$rs	ENDS
;	COMDAT ??_7Tremolo@@6B@
CONST	SEGMENT
??_7Tremolo@@6B@ DQ FLAT:??_R4Tremolo@@6B@		; Tremolo::`vftable'
	DQ	FLAT:?processAudio@Tremolo@@UEAAMM@Z
	DQ	FLAT:?setSampleRate@Tremolo@@UEAAXH@Z
CONST	ENDS
;	COMDAT ??_R3Tremolo@@8
rdata$r	SEGMENT
??_R3Tremolo@@8 DD 00H					; Tremolo::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	imagerel ??_R2Tremolo@@8
rdata$r	ENDS
;	COMDAT ??_R1A@?0A@EA@Tremolo@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@Tremolo@@8 DD imagerel ??_R0?AVTremolo@@@8 ; Tremolo::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	imagerel ??_R3Tremolo@@8
rdata$r	ENDS
;	COMDAT ??_R4Tremolo@@6B@
rdata$r	SEGMENT
??_R4Tremolo@@6B@ DD 01H				; Tremolo::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	imagerel ??_R0?AVTremolo@@@8
	DD	imagerel ??_R3Tremolo@@8
	DD	imagerel ??_R4Tremolo@@6B@
PUBLIC	?setSampleRate@Tremolo@@UEAAXH@Z		; Tremolo::setSampleRate
PUBLIC	?processAudio@Tremolo@@UEAAMM@Z			; Tremolo::processAudio
PUBLIC	?setModRate@Tremolo@@QEAAXM@Z			; Tremolo::setModRate
PUBLIC	?setModDepth@Tremolo@@QEAAXM@Z			; Tremolo::setModDepth
PUBLIC	?init@Tremolo@@QEAAXHW4OscillatorType@@MM@Z	; Tremolo::init
PUBLIC	??1Tremolo@@QEAA@XZ				; Tremolo::~Tremolo
PUBLIC	??0Tremolo@@QEAA@XZ				; Tremolo::Tremolo
;	COMDAT pdata
pdata	SEGMENT
$pdata$?processAudio@Tremolo@@UEAAMM@Z DD imagerel $LN4
	DD	imagerel $LN4+85
	DD	imagerel $unwind$?processAudio@Tremolo@@UEAAMM@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$?init@Tremolo@@QEAAXHW4OscillatorType@@MM@Z DD imagerel $LN4
	DD	imagerel $LN4+94
	DD	imagerel $unwind$?init@Tremolo@@QEAAXHW4OscillatorType@@MM@Z
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$??0Tremolo@@QEAA@XZ DD imagerel $LN10
	DD	imagerel $LN10+110
	DD	imagerel $unwind$??0Tremolo@@QEAA@XZ
;	COMDAT xdata
xdata	SEGMENT
$unwind$??0Tremolo@@QEAA@XZ DD 040a01H
	DD	07340aH
	DD	07006320aH
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$?init@Tremolo@@QEAAXHW4OscillatorType@@MM@Z DD 061201H
	DD	026812H
	DD	08340aH
	DD	07006520aH
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$?processAudio@Tremolo@@UEAAMM@Z DD 040e01H
	DD	02680eH
	DD	030025206H
; Function compile flags: /Ogspy
; File E:\FoxSuite\fox-suite-blocks\src\Tremolo.cpp
; File E:\FoxSuite\fox-suite-blocks\src\LFO.cpp
; File E:\FoxSuite\fox-suite-blocks\src\Tremolo.cpp
;	COMDAT ??0Tremolo@@QEAA@XZ
_TEXT	SEGMENT
$T1 = 48
this$ = 48
??0Tremolo@@QEAA@XZ PROC				; Tremolo::Tremolo, COMDAT

; 4    : Tremolo::Tremolo() {	

$LN10:
	mov	QWORD PTR [rsp+16], rbx
	push	rdi
	sub	rsp, 32					; 00000020H
	lea	rax, OFFSET FLAT:??_7Tremolo@@6B@
	mov	rdi, rcx
	mov	QWORD PTR [rcx], rax

; 7    : 	trem_LFOOscillator = new LFO();

	mov	ecx, 72					; 00000048H
	call	??2@YAPEAX_K@Z				; operator new
	mov	rbx, rax
	mov	QWORD PTR $T1[rsp], rax
; File E:\FoxSuite\fox-suite-blocks\src\LFO.cpp

; 9    : {

	lea	rax, OFFSET FLAT:??_7LFO@@6B@

; 10   : 	lfo_counter = 0;
; 11   : 	lfo_sampleRate = 44100;	
; 12   : 	lfo_frequency = 0.0;
; 13   : 	lfo_amplitude = 1.0;
; 14   : 	lfo_inc = 0.0;
; 15   : 	lfo_waveform = OscillatorType::Sine;
; 16   : 	lfo_unipolar = false;
; 17   : 	createWavetables();

	mov	rcx, rbx
	mov	QWORD PTR [rbx], rax
	xor	eax, eax
	mov	QWORD PTR [rbx+24], rax
	mov	DWORD PTR [rbx+8], eax
	mov	BYTE PTR [rbx+64], al
	mov	DWORD PTR [rbx+12], 44100		; 0000ac44H
	mov	DWORD PTR [rbx+16], 1065353216		; 3f800000H
	mov	DWORD PTR [rbx+20], 1
	call	?createWavetables@LFO@@QEAAXXZ		; LFO::createWavetables
; File E:\FoxSuite\fox-suite-blocks\src\Tremolo.cpp

; 7    : 	trem_LFOOscillator = new LFO();

	mov	QWORD PTR [rdi+24], rbx

; 8    : 
; 9    : }

	mov	rax, rdi
	mov	rbx, QWORD PTR [rsp+56]
	add	rsp, 32					; 00000020H
	pop	rdi
	ret	0
??0Tremolo@@QEAA@XZ ENDP				; Tremolo::Tremolo
_TEXT	ENDS
; Function compile flags: /Ogspy
; File E:\FoxSuite\fox-suite-blocks\src\Tremolo.cpp
;	COMDAT ??1Tremolo@@QEAA@XZ
_TEXT	SEGMENT
this$ = 8
??1Tremolo@@QEAA@XZ PROC				; Tremolo::~Tremolo, COMDAT

; 11   : Tremolo::~Tremolo() {

	lea	rax, OFFSET FLAT:??_7Tremolo@@6B@
	mov	QWORD PTR [rcx], rax
	mov	rcx, QWORD PTR [rcx+24]
	jmp	??1LFO@@QEAA@XZ				; LFO::~LFO
??1Tremolo@@QEAA@XZ ENDP				; Tremolo::~Tremolo
_TEXT	ENDS
; Function compile flags: /Ogspy
; File E:\FoxSuite\fox-suite-blocks\src\Tremolo.cpp
;	COMDAT ?init@Tremolo@@QEAAXHW4OscillatorType@@MM@Z
_TEXT	SEGMENT
this$ = 64
sampleRate$ = 72
waveform$ = 80
LFOFrequency$ = 88
LFOAmplitude$ = 96
?init@Tremolo@@QEAAXHW4OscillatorType@@MM@Z PROC	; Tremolo::init, COMDAT

; 16   : {		

$LN4:
	mov	QWORD PTR [rsp+8], rbx
	push	rdi
	sub	rsp, 48					; 00000030H
	mov	rbx, rcx
	movaps	XMMWORD PTR [rsp+32], xmm6

; 17   : 	// init LFO object
; 18   : 	trem_LFOOscillator->init(waveform, LFOFrequency, sampleRate);

	mov	rcx, QWORD PTR [rcx+24]
	mov	r9d, edx
	movaps	xmm2, xmm3
	mov	edx, r8d
	movaps	xmm6, xmm3
	mov	edi, r8d
	mov	rax, QWORD PTR [rcx]
	call	QWORD PTR [rax]

; 19   : 	
; 20   : 	// Set LFO amplitude	
; 21   : 	trem_LFOOscillator->setLFOAmplitude(LFOAmplitude);

	mov	rax, QWORD PTR [rbx+24]
	movss	xmm0, DWORD PTR LFOAmplitude$[rsp]
	movss	DWORD PTR [rax+16], xmm0

; 22   : 
; 23   : 	// Set LFO unipolar
; 24   : 	trem_LFOOscillator->setLFOunipolar(true);

	mov	rax, QWORD PTR [rbx+24]
	mov	BYTE PTR [rax+64], 1

; 25   : 
; 26   : 	// update tremolo parameters
; 27   : 	trem_modDepth = LFOAmplitude;
; 28   : 	trem_modRateHz = LFOFrequency;

	movss	DWORD PTR [rbx+8], xmm6

; 29   : 	trem_modWave = waveform;
; 30   : }

	movaps	xmm6, XMMWORD PTR [rsp+32]
	movss	DWORD PTR [rbx+12], xmm0
	mov	DWORD PTR [rbx+16], edi
	mov	rbx, QWORD PTR [rsp+64]
	add	rsp, 48					; 00000030H
	pop	rdi
	ret	0
?init@Tremolo@@QEAAXHW4OscillatorType@@MM@Z ENDP	; Tremolo::init
_TEXT	ENDS
; Function compile flags: /Ogspy
; File E:\FoxSuite\fox-suite-blocks\src\Tremolo.cpp
;	COMDAT ?setModDepth@Tremolo@@QEAAXM@Z
_TEXT	SEGMENT
this$ = 8
modDepth$ = 16
?setModDepth@Tremolo@@QEAAXM@Z PROC			; Tremolo::setModDepth, COMDAT

; 34   : 	trem_modDepth = modDepth;
; 35   : 	trem_LFOOscillator->setLFOAmplitude(trem_modDepth);

	mov	rax, QWORD PTR [rcx+24]
	movss	DWORD PTR [rcx+12], xmm1
	movss	DWORD PTR [rax+16], xmm1

; 36   : 
; 37   : }

	ret	0
?setModDepth@Tremolo@@QEAAXM@Z ENDP			; Tremolo::setModDepth
_TEXT	ENDS
; Function compile flags: /Ogspy
; File E:\FoxSuite\fox-suite-blocks\src\Tremolo.cpp
; File E:\FoxSuite\fox-suite-blocks\src\LFO.cpp
; File E:\FoxSuite\fox-suite-blocks\src\Tremolo.cpp
;	COMDAT ?setModRate@Tremolo@@QEAAXM@Z
_TEXT	SEGMENT
this$ = 8
modRate$ = 16
?setModRate@Tremolo@@QEAAXM@Z PROC			; Tremolo::setModRate, COMDAT

; 41   : 	trem_modRateHz = modRate;
; 42   : 	trem_LFOOscillator->setLFOfrequency(trem_modRateHz);

	mov	rax, QWORD PTR [rcx+24]
	movss	DWORD PTR [rcx+8], xmm1
	movd	xmm0, DWORD PTR [rax+12]
; File E:\FoxSuite\fox-suite-blocks\src\LFO.cpp

; 48   : 	lfo_frequency = frequency;

	movss	DWORD PTR [rax+8], xmm1

; 74   : 	lfo_inc = WAVETABLE_SIZE * lfo_frequency / (float) lfo_sampleRate;

	mulss	xmm1, DWORD PTR __real@45000000
	cvtdq2ps xmm0, xmm0
	divss	xmm1, xmm0
	movss	DWORD PTR [rax+28], xmm1
; File E:\FoxSuite\fox-suite-blocks\src\Tremolo.cpp

; 43   : }

	ret	0
?setModRate@Tremolo@@QEAAXM@Z ENDP			; Tremolo::setModRate
_TEXT	ENDS
; Function compile flags: /Ogspy
; File E:\FoxSuite\fox-suite-blocks\src\Tremolo.cpp
;	COMDAT ?processAudio@Tremolo@@UEAAMM@Z
_TEXT	SEGMENT
this$ = 64
xn$ = 72
?processAudio@Tremolo@@UEAAMM@Z PROC			; Tremolo::processAudio, COMDAT

; 62   : {	

$LN4:
	push	rbx
	sub	rsp, 48					; 00000030H
	mov	rbx, rcx
	movaps	XMMWORD PTR [rsp+32], xmm6

; 63   : 	// Compute LFO value
; 64   : 	float lfoValue = trem_LFOOscillator->processAudio();

	mov	rcx, QWORD PTR [rcx+24]
	movaps	xmm6, xmm1
	mov	rax, QWORD PTR [rcx]
	call	QWORD PTR [rax+16]

; 65   : 
; 66   : 	// All Pass Filter processing
; 67   : 	return xn * lfoValue + xn * (0.99 - trem_modDepth);

	movsd	xmm4, QWORD PTR __real@3fefae147ae147ae
	xorps	xmm3, xmm3
	movss	xmm2, DWORD PTR [rbx+12]
	mulss	xmm0, xmm6
	cvtss2sd xmm3, xmm6

; 68   : }

	movaps	xmm6, XMMWORD PTR [rsp+32]
	cvtss2sd xmm0, xmm0
	cvtps2pd xmm2, xmm2
	subsd	xmm4, xmm2
	mulsd	xmm4, xmm3
	addsd	xmm4, xmm0
	cvtpd2ps xmm0, xmm4
	add	rsp, 48					; 00000030H
	pop	rbx
	ret	0
?processAudio@Tremolo@@UEAAMM@Z ENDP			; Tremolo::processAudio
_TEXT	ENDS
; Function compile flags: /Ogspy
; File E:\FoxSuite\fox-suite-blocks\src\Tremolo.cpp
;	COMDAT ?setSampleRate@Tremolo@@UEAAXH@Z
_TEXT	SEGMENT
this$ = 8
sampleRate$ = 16
?setSampleRate@Tremolo@@UEAAXH@Z PROC			; Tremolo::setSampleRate, COMDAT

; 72   : 	trem_LFOOscillator->setSampleRate(sampleRate);

	mov	rcx, QWORD PTR [rcx+24]
	mov	rax, QWORD PTR [rcx]
	rex_jmp	QWORD PTR [rax+8]
?setSampleRate@Tremolo@@UEAAXH@Z ENDP			; Tremolo::setSampleRate
_TEXT	ENDS
END
