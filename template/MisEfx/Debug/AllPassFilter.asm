; Listing generated by Microsoft (R) Optimizing Compiler Version 19.29.30133.0 

	TITLE	E:\FoxSuite\misefx\MisEfx\Debug\AllPassFilter.obj
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRT
INCLUDELIB OLDNAMES

PUBLIC	??0AllPassFilter@@QAE@XZ			; AllPassFilter::AllPassFilter
PUBLIC	??1AllPassFilter@@QAE@XZ			; AllPassFilter::~AllPassFilter
PUBLIC	?setFeedback@AllPassFilter@@QAEXM@Z		; AllPassFilter::setFeedback
PUBLIC	?setFeedbackFromDecay@AllPassFilter@@QAEXM@Z	; AllPassFilter::setFeedbackFromDecay
PUBLIC	?processAudio@AllPassFilter@@UAEMM@Z		; AllPassFilter::processAudio
PUBLIC	??_7AllPassFilter@@6B@				; AllPassFilter::`vftable'
PUBLIC	??_R4AllPassFilter@@6B@				; AllPassFilter::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVAllPassFilter@@@8			; AllPassFilter `RTTI Type Descriptor'
PUBLIC	??_R3AllPassFilter@@8				; AllPassFilter::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2AllPassFilter@@8				; AllPassFilter::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@AllPassFilter@@8			; AllPassFilter::`RTTI Base Class Descriptor at (0,-1,0,64)'
PUBLIC	??_R1A@?0A@EA@Delay@@8				; Delay::`RTTI Base Class Descriptor at (0,-1,0,64)'
PUBLIC	??_R0?AVDelay@@@8				; Delay `RTTI Type Descriptor'
PUBLIC	??_R3Delay@@8					; Delay::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2Delay@@8					; Delay::`RTTI Base Class Array'
PUBLIC	__real@4024000000000000
PUBLIC	__real@447a0000
PUBLIC	__real@c0400000
EXTRN	??0Delay@@QAE@XZ:PROC				; Delay::Delay
EXTRN	??1Delay@@QAE@XZ:PROC				; Delay::~Delay
EXTRN	?init@Delay@@UAEXMH@Z:PROC			; Delay::init
EXTRN	?setSampleRate@Delay@@UAEXH@Z:PROC		; Delay::setSampleRate
EXTRN	?updateIndices@Delay@@QAEXXZ:PROC		; Delay::updateIndices
EXTRN	?writeToDelayLine@Delay@@QAEXM@Z:PROC		; Delay::writeToDelayLine
EXTRN	?readFromDelayLine@Delay@@QAEMXZ:PROC		; Delay::readFromDelayLine
EXTRN	_pow:PROC
EXTRN	__RTC_CheckEsp:PROC
EXTRN	__RTC_InitBase:PROC
EXTRN	__RTC_Shutdown:PROC
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
EXTRN	__fltused:DWORD
;	COMDAT __real@c0400000
CONST	SEGMENT
__real@c0400000 DD 0c0400000r			; -3
CONST	ENDS
;	COMDAT __real@447a0000
CONST	SEGMENT
__real@447a0000 DD 0447a0000r			; 1000
CONST	ENDS
;	COMDAT __real@4024000000000000
CONST	SEGMENT
__real@4024000000000000 DQ 04024000000000000r	; 10
CONST	ENDS
;	COMDAT rtc$TMZ
rtc$TMZ	SEGMENT
__RTC_Shutdown.rtc$TMZ DD FLAT:__RTC_Shutdown
rtc$TMZ	ENDS
;	COMDAT rtc$IMZ
rtc$IMZ	SEGMENT
__RTC_InitBase.rtc$IMZ DD FLAT:__RTC_InitBase
rtc$IMZ	ENDS
;	COMDAT ??_R2Delay@@8
rdata$r	SEGMENT
??_R2Delay@@8 DD FLAT:??_R1A@?0A@EA@Delay@@8		; Delay::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3Delay@@8
rdata$r	SEGMENT
??_R3Delay@@8 DD 00H					; Delay::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2Delay@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVDelay@@@8
data$rs	SEGMENT
??_R0?AVDelay@@@8 DD FLAT:??_7type_info@@6B@		; Delay `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVDelay@@', 00H
data$rs	ENDS
;	COMDAT ??_R1A@?0A@EA@Delay@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@Delay@@8 DD FLAT:??_R0?AVDelay@@@8	; Delay::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3Delay@@8
rdata$r	ENDS
;	COMDAT ??_R1A@?0A@EA@AllPassFilter@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@AllPassFilter@@8 DD FLAT:??_R0?AVAllPassFilter@@@8 ; AllPassFilter::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	01H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3AllPassFilter@@8
rdata$r	ENDS
;	COMDAT ??_R2AllPassFilter@@8
rdata$r	SEGMENT
??_R2AllPassFilter@@8 DD FLAT:??_R1A@?0A@EA@AllPassFilter@@8 ; AllPassFilter::`RTTI Base Class Array'
	DD	FLAT:??_R1A@?0A@EA@Delay@@8
rdata$r	ENDS
;	COMDAT ??_R3AllPassFilter@@8
rdata$r	SEGMENT
??_R3AllPassFilter@@8 DD 00H				; AllPassFilter::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	02H
	DD	FLAT:??_R2AllPassFilter@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVAllPassFilter@@@8
data$rs	SEGMENT
??_R0?AVAllPassFilter@@@8 DD FLAT:??_7type_info@@6B@	; AllPassFilter `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVAllPassFilter@@', 00H
data$rs	ENDS
;	COMDAT ??_R4AllPassFilter@@6B@
rdata$r	SEGMENT
??_R4AllPassFilter@@6B@ DD 00H				; AllPassFilter::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVAllPassFilter@@@8
	DD	FLAT:??_R3AllPassFilter@@8
rdata$r	ENDS
;	COMDAT ??_7AllPassFilter@@6B@
CONST	SEGMENT
??_7AllPassFilter@@6B@ DD FLAT:??_R4AllPassFilter@@6B@	; AllPassFilter::`vftable'
	DD	FLAT:?init@Delay@@UAEXMH@Z
	DD	FLAT:?setSampleRate@Delay@@UAEXH@Z
	DD	FLAT:?processAudio@AllPassFilter@@UAEMM@Z
CONST	ENDS
; Function compile flags: /Odtp /RTCsu
; File E:\FoxSuite\fox-suite-blocks\src\AllPassFilter.cpp
_TEXT	SEGMENT
_samp$ = -16						; size = 4
_yn$ = -12						; size = 4
_buf$ = -8						; size = 4
_this$ = -4						; size = 4
_xn$ = 8						; size = 4
?processAudio@AllPassFilter@@UAEMM@Z PROC		; AllPassFilter::processAudio
; _this$ = ecx

; 27   : float AllPassFilter::processAudio(float xn) {

	push	ebp
	mov	ebp, esp
	sub	esp, 16					; 00000010H
	mov	eax, -858993460				; ccccccccH
	mov	DWORD PTR [ebp-16], eax
	mov	DWORD PTR [ebp-12], eax
	mov	DWORD PTR [ebp-8], eax
	mov	DWORD PTR [ebp-4], eax
	mov	DWORD PTR _this$[ebp], ecx

; 28   : 	
; 29   : 	// read sample from delay line
; 30   : 	float buf = readFromDelayLine();

	mov	ecx, DWORD PTR _this$[ebp]
	call	?readFromDelayLine@Delay@@QAEMXZ	; Delay::readFromDelayLine
	fstp	DWORD PTR _buf$[ebp]

; 31   : 
; 32   : 	// define output
; 33   : 	float yn = buf - ap_feedbackGain * xn;

	mov	eax, DWORD PTR _this$[ebp]
	movss	xmm0, DWORD PTR [eax+44]
	mulss	xmm0, DWORD PTR _xn$[ebp]
	movss	xmm1, DWORD PTR _buf$[ebp]
	subss	xmm1, xmm0
	movss	DWORD PTR _yn$[ebp], xmm1

; 34   : 
; 35   : 	// define sample to be written to delay line
; 36   : 	float samp = xn + ap_feedbackGain * yn;

	mov	ecx, DWORD PTR _this$[ebp]
	movss	xmm0, DWORD PTR [ecx+44]
	mulss	xmm0, DWORD PTR _yn$[ebp]
	addss	xmm0, DWORD PTR _xn$[ebp]
	movss	DWORD PTR _samp$[ebp], xmm0

; 37   : 
; 38   : 	// write sample to delay line
; 39   : 	writeToDelayLine(samp);

	push	ecx
	movss	xmm0, DWORD PTR _samp$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	ecx, DWORD PTR _this$[ebp]
	call	?writeToDelayLine@Delay@@QAEXM@Z	; Delay::writeToDelayLine

; 40   : 	
; 41   : 	// update indices
; 42   : 	updateIndices();

	mov	ecx, DWORD PTR _this$[ebp]
	call	?updateIndices@Delay@@QAEXXZ		; Delay::updateIndices

; 43   : 
; 44   : 	return yn;

	fld	DWORD PTR _yn$[ebp]

; 45   : 
; 46   : }

	add	esp, 16					; 00000010H
	cmp	ebp, esp
	call	__RTC_CheckEsp
	mov	esp, ebp
	pop	ebp
	ret	4
?processAudio@AllPassFilter@@UAEMM@Z ENDP		; AllPassFilter::processAudio
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu
; File E:\FoxSuite\fox-suite-blocks\src\AllPassFilter.cpp
_TEXT	SEGMENT
_this$ = -4						; size = 4
_decay$ = 8						; size = 4
?setFeedbackFromDecay@AllPassFilter@@QAEXM@Z PROC	; AllPassFilter::setFeedbackFromDecay
; _this$ = ecx

; 18   : {

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR [ebp-4], -858993460		; ccccccccH
	mov	DWORD PTR _this$[ebp], ecx

; 19   : 	// set decay
; 20   : 	ap_decayInSeconds = decay;

	mov	eax, DWORD PTR _this$[ebp]
	movss	xmm0, DWORD PTR _decay$[ebp]
	movss	DWORD PTR [eax+48], xmm0

; 21   : 
; 22   : 	// compute comb filter gain. Decay value must be in seconds
; 23   : 	ap_feedbackGain = pow(10, -3 * dly_delayInmsec / (ap_decayInSeconds * 1000));

	mov	ecx, DWORD PTR _this$[ebp]
	movss	xmm0, DWORD PTR __real@c0400000
	mulss	xmm0, DWORD PTR [ecx+20]
	mov	edx, DWORD PTR _this$[ebp]
	movss	xmm1, DWORD PTR [edx+48]
	mulss	xmm1, DWORD PTR __real@447a0000
	divss	xmm0, xmm1
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	sub	esp, 8
	movsd	xmm0, QWORD PTR __real@4024000000000000
	movsd	QWORD PTR [esp], xmm0
	call	_pow
	add	esp, 16					; 00000010H
	mov	eax, DWORD PTR _this$[ebp]
	fstp	DWORD PTR [eax+44]

; 24   : }

	add	esp, 4
	cmp	ebp, esp
	call	__RTC_CheckEsp
	mov	esp, ebp
	pop	ebp
	ret	4
?setFeedbackFromDecay@AllPassFilter@@QAEXM@Z ENDP	; AllPassFilter::setFeedbackFromDecay
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu
; File E:\FoxSuite\fox-suite-blocks\src\AllPassFilter.cpp
_TEXT	SEGMENT
_this$ = -4						; size = 4
_g$ = 8							; size = 4
?setFeedback@AllPassFilter@@QAEXM@Z PROC		; AllPassFilter::setFeedback
; _this$ = ecx

; 13   : {

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx

; 14   : 	ap_feedbackGain = g;	

	mov	eax, DWORD PTR _this$[ebp]
	movss	xmm0, DWORD PTR _g$[ebp]
	movss	DWORD PTR [eax+44], xmm0

; 15   : }

	mov	esp, ebp
	pop	ebp
	ret	4
?setFeedback@AllPassFilter@@QAEXM@Z ENDP		; AllPassFilter::setFeedback
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu
; File E:\FoxSuite\fox-suite-blocks\src\AllPassFilter.cpp
_TEXT	SEGMENT
_this$ = -4						; size = 4
??1AllPassFilter@@QAE@XZ PROC				; AllPassFilter::~AllPassFilter
; _this$ = ecx

; 10   : AllPassFilter::~AllPassFilter() {}

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR [ebp-4], -858993460		; ccccccccH
	mov	DWORD PTR _this$[ebp], ecx
	mov	eax, DWORD PTR _this$[ebp]
	mov	DWORD PTR [eax], OFFSET ??_7AllPassFilter@@6B@
	mov	ecx, DWORD PTR _this$[ebp]
	call	??1Delay@@QAE@XZ			; Delay::~Delay
	add	esp, 4
	cmp	ebp, esp
	call	__RTC_CheckEsp
	mov	esp, ebp
	pop	ebp
	ret	0
??1AllPassFilter@@QAE@XZ ENDP				; AllPassFilter::~AllPassFilter
_TEXT	ENDS
; Function compile flags: /Odtp /RTCsu
; File E:\FoxSuite\fox-suite-blocks\src\AllPassFilter.cpp
_TEXT	SEGMENT
_this$ = -4						; size = 4
??0AllPassFilter@@QAE@XZ PROC				; AllPassFilter::AllPassFilter
; _this$ = ecx

; 5    : AllPassFilter::AllPassFilter() : Delay() {

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR [ebp-4], -858993460		; ccccccccH
	mov	DWORD PTR _this$[ebp], ecx
	mov	ecx, DWORD PTR _this$[ebp]
	call	??0Delay@@QAE@XZ			; Delay::Delay
	mov	eax, DWORD PTR _this$[ebp]
	mov	DWORD PTR [eax], OFFSET ??_7AllPassFilter@@6B@

; 6    : 	ap_feedbackGain = 0.0;

	mov	ecx, DWORD PTR _this$[ebp]
	xorps	xmm0, xmm0
	movss	DWORD PTR [ecx+44], xmm0

; 7    : 	ap_decayInSeconds = 0.0;

	mov	edx, DWORD PTR _this$[ebp]
	xorps	xmm0, xmm0
	movss	DWORD PTR [edx+48], xmm0

; 8    : }

	mov	eax, DWORD PTR _this$[ebp]
	add	esp, 4
	cmp	ebp, esp
	call	__RTC_CheckEsp
	mov	esp, ebp
	pop	ebp
	ret	0
??0AllPassFilter@@QAE@XZ ENDP				; AllPassFilter::AllPassFilter
_TEXT	ENDS
END
